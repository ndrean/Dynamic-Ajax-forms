document.getElementById('form_Resto').insertAdjacentHTML('afterbegin',`<%= j render 'restos/form', resto: @resto %>`)
document.getElementById("addComment").onclick = dynAddComment();


function dynAddComment() {
  const createCommentButton = document.getElementById("addComment");
  createCommentButton.addEventListener("click", (e) => {
    e.preventDefault();
    const arrayComments = [...document.querySelectorAll("fieldset")];
    const lastId = arrayComments[arrayComments.length - 1];
    const newId = parseInt(lastId.dataset.fieldsId, 10) + 1;
    const changeFieldsetId = document
        .querySelector('[data-fields-id]')
        .outerHTML
        .replace('0',"${newId}")
    document.querySelector("#new_resto").insertAdjacentHTML(
      "beforeend",
      `
      ${changeFieldsetId}
       `
    );
  });
}

